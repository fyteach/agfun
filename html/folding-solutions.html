<style>
  div.solution {
    display: none;
  }

  div.SolutionWrapper {
    margin: 1em 0;
  }

  button.SolutionToggleBtn {
    border: none;
    color: rgb(127, 54, 223);
    font-weight: bold;
    display: inline-block;
    cursor: pointer;
    text-decoration: underline;
  }

  .solution>p:first-of-type {
    display: none;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
  // Select all solution blocks
  var solutions = document.querySelectorAll('div.solution');
  
  solutions.forEach(function (solution) {
    // Create a collapsible div to wrap the solution in
    var solutionWrapper = document.createElement('div');
    solutionWrapper.classList.add('SolutionWrapper');

    // Add a show solution button right above
    var solutionButton = document.createElement('button');
    solutionButton.type = 'button';
    solutionButton.classList.add('SolutionToggleBtn');
    solutionButton.textContent = 'Solution'; // Initial text

    // Add a click event listener to the button
    solutionButton.addEventListener('click', function () {
      if (solution.style.display === 'block') {
        solution.style.display = 'none';
        // solutionButton.textContent = 'Show Solution';
      } else {
        solution.style.display = 'block';
        // solutionButton.textContent = 'Hide Solution';
      }
    });

    // Insert the button and the solution into the wrapper
    solution.parentNode.insertBefore(solutionWrapper, solution);
    solutionWrapper.appendChild(solutionButton);
    // Insert the wrapper before the original solution div
  });
});
</script>
